<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Form</title>
  <!-- Include Tailwind CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* Add additional styling here if needed */
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    form {
      width: 400px;
    }
  </style>
</head>

<body>
  <form id="registrationForm" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="name">
        Name
      </label>
      <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="name" type="text" placeholder="Enter your name" required>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="email">
        Email
      </label>
      <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" type="email" placeholder="Enter your email" required>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="password">
        Password
      </label>
      <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="password" type="password" placeholder="Enter your password" required>
    </div>
    <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2" for="dob">
          Date of Birth
        </label>
        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="dob" type="date" required min="1900-01-01" max="2005-01-01">
      </div>
      
    <div class="mb-4">
      <input class="mr-2 leading-tight" type="checkbox" id="terms" required>
      <label class="text-gray-700 text-sm font-bold" for="terms">
        I agree to the terms and conditions
      </label>
    </div>
    <div class="flex items-center justify-between">
      <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
        Submit
      </button>
    </div>
  </form>

  <table id="dataTable" class="hidden border-collapse border border-gray-500 mt-4">
    <thead>
      <tr>
        <th class="border border-gray-500 px-4 py-2">Name</th>
        <th class="border border-gray-500 px-4 py-2">Email</th>
        <th class="border border-gray-500 px-4 py-2">Password</th>
        <th class="border border-gray-500 px-4 py-2">DOB</th>
        <th class="border border-gray-500 px-4 py-2">Accepted terms?</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  
    <script>
        document.addEventListener('DOMContentLoaded', () => {
          const registrationForm = document.getElementById('registrationForm');
          const dataTableBody = document.querySelector('#dataTable tbody');
      
          registrationForm.addEventListener('submit', function (event) {
            event.preventDefault();
      
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const dob = document.getElementById('dob').value;
            const acceptedTerms = document.getElementById('terms').checked;
      
            // Validate date of birth (simple age check)
            const dobDate = new Date(dob);
            const today = new Date();
            const age = today.getFullYear() - dobDate.getFullYear();
      
            if (age < 18 || age > 55) {
              alert('Age must be between 18 and 55.');
              return;
            }
      
            // Save data to localStorage
            const userData = {
              name,
              email,
              password,
              dob,
              acceptedTerms
            };
      
            let storedData = JSON.parse(localStorage.getItem('userData')) || [];
      
            if (!Array.isArray(storedData)) {
              storedData = [];
            }
      
            storedData.push(userData);
            localStorage.setItem('userData', JSON.stringify(storedData));
      
            // Display data in table
            const newRow = dataTableBody.insertRow();
            newRow.innerHTML = `<td>${name}</td><td>${email}</td><td>${password}</td><td>${dob}</td><td>${acceptedTerms ? 'Yes' : 'No'}</td>`;
      
            // Clear form fields
            registrationForm.reset();
          });
      
          // Load saved data from localStorage
          let savedData = JSON.parse(localStorage.getItem('userData')) || [];
          
          if (!Array.isArray(savedData)) {
            savedData = [];
          }
      
          savedData.forEach(data => {
            const newRow = dataTableBody.insertRow();
            newRow.innerHTML = `<td>${data.name}</td><td>${data.email}</td><td>${data.password}</td><td>${data.dob}</td><td>${data.acceptedTerms ? 'Yes' : 'No'}</td>`;
          });
      
          // Make the table visible
          document.getElementById('dataTable').classList.remove('hidden');
        });
      </script>
      <script src="index.js"></script>
  
</body>

</html>
